(this.webpackJsonpcproject=this.webpackJsonpcproject||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/caissa-icon.fe5993b7.png"},15:function(e){e.exports=JSON.parse('[{"id":1,"name":"Lorem","isin":"US02079K1079","country":"Finland","buttonstatus":false,"price":[{"date":"01/01/19","number":1000},{"date":"01/02/19","number":900},{"date":"01/03/19","number":800},{"date":"01/04/19","number":700},{"date":"01/05/19","number":600},{"date":"01/06/19","number":600}]},{"id":2,"name":"Ipson","isin":"US02079K1079","country":"Sweden","buttonstatus":false,"price":[{"date":"01/01/19","number":1050},{"date":"01/02/19","number":950},{"date":"01/03/19","number":850},{"date":"01/04/19","number":750},{"date":"01/05/19","number":650},{"date":"01/06/19","number":650}]},{"id":3,"name":"Lorem Ipson","isin":"US02079K1079","country":"Iceland","buttonstatus":false,"price":[{"date":"01/01/19","number":1030},{"date":"01/02/19","number":930},{"date":"01/03/19","number":830},{"date":"01/04/19","number":730},{"date":"01/05/19","number":630},{"date":"01/06/19","number":630}]}]')},16:function(e,t,a){e.exports=a(26)},21:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),s=(a(21),a(9)),o=a(2),u=a(3),l=a(4),p=a(5),d=a(6),m=a(7),b=a(12),h=function(e){var t=e.label,a=e.onChange,n=e.hasError,i=e.type,c=e.name,s=e.value,o=e.placeholder;return r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},t),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:a,className:n?"input error":"input",type:i,name:c,value:s,placeholder:o}),n&&!s&&r.a.createElement("div",{className:"err-msg"},"Please fill in the blank field")))},E=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).selectCountry=function(e){return n.setState({country:e})},n.updateInput=function(e){var t=e.target,a=t.name,r=t.value;return n.setState(Object(m.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.isin,i=t.country,c=n.props,s=c.addSecurity,o=c.handleEditSecuritySubmission,u={name:a,isin:r,country:i},l=Object.values(u).some((function(e){return!e}));n.setState({formErrors:l},(function(){l||(s?s(u):o(u))})),console.log("submission",u)},n.state={name:e.name||"",isin:e.isin||"",country:e.country||"",formErrors:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.country,n=t.isin,i=t.name,c=t.formErrors;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup-inner"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"add-form"},r.a.createElement("h2",null,this.props.addSecurity?"Add Security":"Edit Security"),r.a.createElement("div",{className:"form-input"},r.a.createElement(h,{onChange:this.updateInput,hasError:c,label:"Name",type:"text",name:"name",value:i}),r.a.createElement(h,{onChange:this.updateInput,hasError:c,label:"ISIN",type:"text",name:"isin",value:n}),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Country"),r.a.createElement("div",{className:"control"},r.a.createElement(b.a,{onChange:this.selectCountry,className:a?"input":"input error",value:a}),c&&!a&&r.a.createElement("div",{className:"err-msg"},"Please select the country")))),r.a.createElement("div",{className:this.props.addSecurity?"buttons-box flex-content-end":"buttons-box flex-content-between"},this.props.handleDeleteSecurity&&r.a.createElement("button",{type:"button",onClick:function(){return e.props.handleDeleteSecurity()},className:"btn delete-button"},"Delete"),r.a.createElement("div",{className:"add-btns"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.cancelPopup()},className:"btn cancel-button"},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn save-button"},"Submit"))))))}}]),a}(n.Component),f=a(8),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isInEditMode:!1,todaydate:n.props.date},n.toggleEditPriceSubmission=n.toggleEditPriceSubmission.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"toggleEditPriceSubmission",value:function(){this.setState((function(e){return{isInEditMode:!e.isInEditMode}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isInEditMode,n=t.index;return r.a.createElement("div",{className:"pricebox"},r.a.createElement("article",{className:"pricetable"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"date-width"},this.props.date),r.a.createElement("td",{className:"price-width"},a?r.a.createElement("input",{type:"text",name:"number",value:this.props.number,onChange:function(t){return e.props.onChange(t,n)}}):this.props.number),r.a.createElement("td",{className:"editing-btn"},r.a.createElement("button",{type:"button",className:"edit-btn",onClick:this.toggleEditPriceSubmission},a?"Save":"Edit")),r.a.createElement("td",null,this.props.handleDeletePrice&&r.a.createElement("button",{type:"button",className:"delete-btn",onClick:function(){return e.props.handleDeletePrice(e.props.date)}},"X")))))))}}]),a}(n.Component),v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateInput=function(e){var t=e.target,a=t.name,r=t.value,i=t.type;return n.setState(Object(m.a)({},a,"number"===i?Number(r):r))},n.handlePriceFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.date,r=t.number,i=n.props.addPrice,c={date:a,number:r},s=Object.values(c).some((function(e){return!e}));n.setState({formErrors:s},(function(){s||i&&i(c)}))},n.state={date:(new Date).toLocaleDateString(),number:e.number||"",formErrors:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.date,n=t.number,i=t.formErrors;return r.a.createElement("div",{className:"mini-popup"},r.a.createElement("div",{className:"mini-popup-inner"},r.a.createElement("form",{onSubmit:this.handlePriceFormSubmit,className:"addprice-form"},r.a.createElement("h2",null,"Add Price"),r.a.createElement("div",{className:"addform-input"},r.a.createElement("h4",null,"Today's date:"),r.a.createElement("h3",null,a),r.a.createElement(h,{onChange:this.updateInput,hasError:i,label:"Price Number",type:"number",name:"number",value:n})),r.a.createElement("div",{className:"buttons-box flex-content-end"},r.a.createElement("div",{className:"add-btns"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.cancelPopup()},className:"btn cancel-button"},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn save-button"},"Submit"))))))}}]),a}(n.Component),y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateInput=function(e){var t=e.target,a=t.name,r=t.value;return n.setState(Object(m.a)({},a,r))},n.togglePopup=function(){n.setState((function(e){return{showPopup:!e.showPopup}}))},n.togglePricePopup=function(){n.setState((function(e){return{showPricePopup:!e.showPricePopup}}))},n.toggleItemEditing=function(e){n.setState({priceArr:n.state.priceArr.map((function(t,a){return a===e?Object(o.a)({},t,{isEditing:!t.isEditing}):t}))})},n.handlePriceUpdate=function(e,t){var a=e.target,r=a.value,i=a.name;n.setState({priceArr:n.state.priceArr.map((function(e,a){return a===t?Object(o.a)({},e,Object(m.a)({},i,r)):e}))})},n.addPricePopup=function(){n.setState((function(e){return{addPricePopup:!e.addPricePopup}}))},n.addPrice=function(e){n.setState((function(t){return{addPricePopup:!t.addPricePopup,priceArr:[].concat(Object(s.a)(t.priceArr),[Object(o.a)({},e)]),buttonDisabled:!0}}))},n.handleDeletePrice=function(e){var t=n.state.todaydate;n.setState((function(a){return{priceArr:a.priceArr.filter((function(t){return t.date!==e})),buttonDisabled:!(e===t)}}))},n.handleFormSubmit=function(){var e=n.state,t={priceArr:e.priceArr,buttonDisabled:e.buttonDisabled};n.props.updatePrice(t)},n.state={priceArr:n.props.pricelist,showPricePopup:!1,addPricePopup:!1,todaydate:(new Date).toLocaleDateString(),date:e.date||"",number:e.number||"",buttonDisabled:n.props.buttonStatus},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup-inner"},r.a.createElement("div",{className:"price-form"},r.a.createElement("h2",null,"Prices"),r.a.createElement("div",{className:"scroll-box"},this.state.priceArr.map((function(t,a){return r.a.createElement(P,Object.assign({},t,{key:t.date,toggleEditing:function(){return e.toggleItemEditing(a)},handleDeletePrice:e.handleDeletePrice,onChange:function(t){return e.handlePriceUpdate(t,a)}}))}))),r.a.createElement("div",{className:"buttons-box flex-content-between"},r.a.createElement("div",{className:"add_btn"},r.a.createElement("button",{type:"button",onClick:this.addPricePopup,className:"btn add-button",disabled:this.state.buttonDisabled},"Add +"),this.state.addPricePopup&&r.a.createElement(v,{addPrice:this.addPrice,cancelPopup:this.addPricePopup}),this.state.buttonDisabled?r.a.createElement("p",null,"Only one entry per day."):""),r.a.createElement("div",{className:"add-btns"},r.a.createElement("button",{type:"button",onClick:this.handleFormSubmit,className:"btn cancel-button"},"Close"))))))}}]),a}(n.Component),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).togglePopup=function(){n.setState((function(e){return{showPopup:!e.showPopup}}))},n.togglePricePopup=function(){n.setState((function(e){return{showPricePopup:!e.showPricePopup}}))},n.handleEditSecuritySubmission=function(e){var t=n.props,a=t.editCurrentSecurity,r=t.id;n.togglePopup(),a(Object(o.a)({},e,{id:r}))},n.updatePrice=function(e){var t=n.props,a=t.updatePriceList,r=t.updateButtonStatus,i=t.id;n.togglePricePopup(),a(Object(o.a)({},e,{id:i})),r(Object(o.a)({},e,{id:i}))},n.handleDeleteSecurity=function(){var e=n.props,t=e.deleteSecurity,a=e.id;n.togglePopup(),t(a)},n.state={showPopup:!1,showPricePopup:!1,pricelist:n.props.price,buttonStatus:n.props.buttonstatus},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"box"},r.a.createElement("article",{className:"securitytable"},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,r.a.createElement("strong",null,this.props.name)),r.a.createElement("hr",{className:"lightgray-line"})),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"isin-width"},this.props.isin),r.a.createElement("td",{className:"country-width"},this.props.country),r.a.createElement("td",{className:"price-popup"},r.a.createElement("button",{type:"button",className:"price-btn",onClick:this.togglePricePopup},"Prices"),this.state.showPricePopup?r.a.createElement(y,{pricelist:this.props.price,buttonStatus:this.props.buttonstatus,updatePrice:this.updatePrice,addPrice:this.props.addPrice,closePopup:this.togglePricePopup}):null),r.a.createElement("td",{className:"editing-btn"},r.a.createElement("button",{type:"button",className:"edit-btn",onClick:this.togglePopup},"Edit"),this.state.showPopup?r.a.createElement(E,Object.assign({},this.props,{handleEditSecuritySubmission:this.handleEditSecuritySubmission,handleDeleteSecurity:this.handleDeleteSecurity,cancelPopup:this.togglePopup})):null))))))}}]),a}(n.Component),S=a(13),N=a.n(S),j=a(14),O=a(15),w=(a(24),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={list:O,showPopup:!1},e.togglePopup=function(){e.setState((function(e){return{showPopup:!e.showPopup}}))},e.editCurrentSecurity=function(t){e.setState((function(e){return{list:e.list.map((function(e){return e.id===t.id?Object(o.a)({list:e},t):e}))}})),console.log("edited security",t)},e.deleteSecurity=function(t){e.setState((function(e){return{list:e.list.filter((function(e){return e.id!==t}))}}))},e.addSecurity=function(t){e.setState((function(e){return{showPopup:!e.showPopup,list:[].concat(Object(s.a)(e.list),[Object(o.a)({},t,{id:Object(j.uuid)(),prices:[]})])}}))},e.updatePriceList=function(t){e.setState((function(e){return{list:e.list.map((function(e){return e.id===t.id?Object(o.a)({},e,{price:t.priceArr}):e}))}}))},e.updateButtonStatus=function(t){e.setState((function(e){return{list:e.list.map((function(e){return e.id===t.id?Object(o.a)({},e,{buttonstatus:t.buttonDisabled}):e}))}}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("a",{href:"/",className:"App-link"},r.a.createElement("img",{src:N.a,className:"App-logo",alt:"logo"}),"Annotations")),r.a.createElement("div",{className:"securities"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Securities"),this.state.list.map((function(t){return r.a.createElement(g,Object.assign({},t,{key:t.id,updatePriceList:e.updatePriceList,updateButtonStatus:e.updateButtonStatus,securitylist:e.state.list,editCurrentSecurity:e.editCurrentSecurity,deleteSecurity:e.deleteSecurity}))})),r.a.createElement("button",{type:"button",className:"btn add-btn",onClick:this.togglePopup},"Add"),this.state.showPopup&&r.a.createElement(E,{addSecurity:this.addSecurity,cancelPopup:this.togglePopup}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.e85ac674.chunk.js.map